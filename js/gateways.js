var gateways = {
	data: {
		'bitbox.one': {
			name: 'bitbox.one',
			website: 'https://bitbox.one',
			deposit_service: true,
			assets: {
				'USDT': {
					code: 'USDT',
					image: 'assets/bitbox.one/usdt.png',
					issuer: 'GBOXNWGBB7SG3NVIA7O25M7JIRSXQ4KKU3GYARJEFMQXSR3APF3KRI6S',
					list: true
				},
				'BCN': {
					code: 'BCN',
					image: 'assets/bitbox.one/BCN.png',
					issuer: 'GBCNYBHAAPDSU3UIHXXQTHYZVSBJBI4YUNWXMKJBCPDHTVYR75G6NFHD',
					list: true
				},
			},
			logo: 'assets/bitbox.one/usdt.png',
		},
		'bwow.io': {
			name: 'bwow.io',
			website: 'https://bwow.io',
			deposit_service: true,
			assets: {
				'USDT': {
					code: 'USDT',
					image: 'assets/bwow.io/usdt.png',
					issuer: 'GBWOW5ECKFZSCTBNP5OF6IR7PAC2ZKLO4ZRZ3SZQ4WYCGOJM6IWJC46P',
					list: true
				},
				'WCN': {
					code: 'WCN',
					image: 'assets/bwow.io/WCN.png',
					issuer: 'GAWCNYSGBWDVCBKUTU2Y23BKR2XV3TYXGTFLGGR6YC7LPBFHBXPQPA33',
					list: true
				},
			},
			logo: 'assets/bwow.io/usdt.png',
		},
		'ripplefox.com': {
			name: 'ripplefox.com',
			website: 'https://ripplefox.com/anchor/',
			deposit_service: true,
			assets: {
				'CNY': {
					code: 'CNY',
					image: 'assets/ripplefox.com/CNY.png',
					issuer: 'GAREELUB43IRHWEASCFBLKHURCGMHE5IF6XSE7EXDLACYHGRHM43RFOX',
					list: true
				},
			},
			logo: 'assets/ripplefox.com/CNY.png',
		},
		'coin.babelbank.com': {
			name: 'coin.babelbank.com',
			website: 'https://coin.babelbank.com/',
			deposit_service: true,
			withdraw_info: '',
			withdraw_info_cn: '',
			assets: {
				'USDT': {
					code: 'USDT',
					image: 'assets/coin.babelbank.com/USDT.png',
					issuer: 'GDRF73C4UUGVCUKF3EHA7ZVHBQ63DQ4NOSBLSKQA4YQNQV4NFWN6PXA2',
					list: true
				},
				'BTC': {
					code: 'BTC',
					image: 'assets/coin.babelbank.com/BTC.png',
					issuer: 'GBED3VZQEWDHIQU6YL4ANQCRJUKCGU2CML2GH75LQINF6DE6O6TMLLSW'
				},
				'ETH': {
					code: 'ETH',
					image: 'assets/coin.babelbank.com/ETH.png',
					issuer: 'GD6G33B7A3TKWCG3TKCIVJTVJGWUWUCMEDHGOOQYSYUMHY76VWJ5Q5IE'
				},
			},
			logo: 'assets/coin.babelbank.com/USDT.png',
		},
		'naobtc.com': {
			name: 'naobtc.com',
			website: 'https://naobtc.com/',
			deposit_service: true,
			assets: {
				'BTC': {
					code: 'BTC',
					image: 'assets/naobtc.com/BTC.png',
					issuer: 'GATEMHCCKCY67ZUCKTROYN24ZYT5GK4EQZ65JJLDHKHRUZI3EUEKMTCH',
					list: true
				},
				'XEL': {
					code: 'XEL',
					image: 'assets/naobtc.com/XEL.png',
					issuer: 'GAXELY4AOIRVONF7V25BUPDNKZYIVT6CWURG7R2I6NQU26IQSQODBVCS'
				}
			},
			logo: 'assets/naobtc.com/BTC.png',
		},
		'fchain.io': {
			name: 'fchain.io',
			website: 'https://fchain.io/',
			deposit_service: true,
			assets: {
				'XCN': {
					code: 'XCN',
					image: 'assets/fchain.io/XCN.png',
					issuer: 'GCNY5OXYSY4FKHOPT2SPOQZAOEIGXB5LBYW3HVU3OWSTQITS65M5RCNY',
					list: true
				},
				'ETH': {
					code: 'ETH',
					image: 'assets/fchain.io/XCN.png',
					issuer: 'GBETHKBL5TCUTQ3JPDIYOZ5RDARTMHMEKIO2QZQ7IOZ4YC5XV3C2IKYU'
				},
				'TAU': {
					code: 'TAU',
					image: 'assets/fchain.io/XCN.png',
					issuer: 'GBETHKBL5TCUTQ3JPDIYOZ5RDARTMHMEKIO2QZQ7IOZ4YC5XV3C2IKYU'
				}
			},
			logo: 'assets/fchain.io/XCN.png',
		},
		'tempo.eu.com': {
			name: 'tempo.eu.com',
			website: 'https://tempo.eu.com/',
			assets: {
				'EURT': {
					code: 'EURT',
					image: 'assets/tempo.eu.com/EURT.png',
					issuer: 'GAP5LETOV6YIE62YAM56STDANPRDO7ZFDBGSNHJQIYGGKSMOZAHOOS2S'
				},
			},
			logo: '',
		},
		'coins.asia': {
			name: 'coins.asia',
			website: 'https://coins.asia/',
			assets: {
				'PHP': {
					code: 'PHP',
					image: 'assets/coins.asia/PHP.png',
					issuer: 'GBUQWP3BOUZX34TOND2QV7QQ7K7VJTG6VSE7WMLBTMDJLLAW7YKGU6EP',
					list: true
				},
			},
			logo: '',
		},
		'vcbear.net': {
			name: 'vcbear.net',
			website: 'https://vcbear.net/',
			assets: {
				'JPY': {
					code: 'JPY',
					image: 'assets/vcbear.net/JPY.png',
					issuer: 'GBVAOIACNSB7OVUXJYC5UE2D4YK2F7A24T7EE5YOMN4CE6GCHUTOUQXM',
					list: true
				},
				'XRP': {
					code: 'XRP',
					image: 'assets/vcbear.net/XRP.png',
					issuer: 'GA7FCCMTTSUIC37PODEL6EOOSPDRILP6OQI5FWCWDDVDBLJV72W6RINZ',
					list: true
				},
				'BTC': {
					code: 'BTC',
					image: 'assets/vcbear.net/BTC.png',
					issuer: 'GDXTJEK4JZNSTNQAWA53RZNS2GIKTDRPEUWDXELFMKU52XNECNVDVXDI'
				},
			},
			logo: '',
		},
		"cryptomover.com": {
			"name": "cryptomover.com",
			"website": "https://cryptomover.com/",
			"assets": {
				"HKDT": {
					"code": "HKDC",
					image: "assets/cryptomover.com/cmhkdt.png",
					"issuer": "GABSZVZBYEO5F4V5LZKV7GR4SAJ5IKJGGOF43BIN42FNDUG7QPH6IMRQ",
					"display_decimals": 6,
					list: true
				},
				"CM3": {
					"code": "CM3",
					image: "assets/cryptomover.com/cm3.png",
					"issuer": "GDU2FEL6THGGOFDHHP4I5FHNWY4S2SXYUBCEDB5ZREMD6UFRT4SYWSW2",
					"display_decimals": 6
				},
				"CM10": {
					"code": "CM10",
					image: "assets/cryptomover.com/cm10.png",
					"issuer": "GDBCHKTHJUKDGSIQSTBUXFWVP3QVART5LED6KRZQ5X4Z5WLT4BGYXWCI",
					"display_decimals": 6
				},
				"CMA": {
					"code": "CMA",
					image: "assets/cryptomover.com/cma.png",
					"issuer": "GBWZHAVWY23QKKDJW7TXLSIHY5EX4NIB37O4NMRKN2SKNWOSE5TEPCY3",
					"display_decimals": 6
				},
				"CMS": {
					"code": "CMS",
					image: "assets/cryptomover.com/cms.png",
					"issuer": "GCVBUIXKKLH2DYHZRSLZUIZSVJUL74RTW6FVCCEYB2OE3RH7RVDBPCFG",
					"display_decimals": 6
				},
			},
			"logo": "assets/cryptomover.com/cm10.png"
		},
		"flutterwave.com": {
			"name": "flutterwave.com",
			"website": "https://flutterwave.com/",
			"assets": {
				"NGN": {
					code: 'NGN',
					image: "assets/flutterwave.com/NGN.png",
					issuer: 'GCC4YLCR7DDWFCIPTROQM7EB2QMFD35XRWEQVIQYJQHVW6VE5MJZXIGW',
					list: true
				}
			},
			"logo": ""
		},
		"mobius.network": {
			"name": "Mobius",
			"website": "https://mobius.network",
			"assets": {
				"MOBI": {
					"code": "MOBI",
					image: "assets/mobius.network/MOBI.png",
					"issuer": "GA6HCMBLTZS5VYYBCATRBRZ3BZJMAFUDKYYF6AH6MVCMGWMRDNSWJPIH",
					"display_decimals": 7
				}
			},
			"logo": ""
		},
		"gft.network": {
			"name": "E-GIFT Card",
			"website": "https://gft.network",
			"assets": {
				"GFT": {
					"code": "GFT",
					image: "assets/gft.network/GFT.svg",
					"issuer": "GAAZUE4PKMKLA7QC2MPUIUXY7BZK2WUCK7Q5EELSDLK4FE3X4DZTSCKN",
					"display_decimals": 2
				}
			},
			"logo": ""
		},
		"smartlands.io": {
			"name": "Smartlands",
			"website": "https://smartlands.io",
			"assets": {
				"SLT": {
					"code": "SLT",
					image: "assets/smartlands.io/SLT.png",
					"issuer": "GCKA6K5PCQ6PNF5RQBF7PQDJWRHO6UOGFMRLK3DYHDOI244V47XKQ4GP",
					"display_decimals": 7
				}
			},
			"logo": ""
		}

	},
	'bitcoinfundi.com': {
		name: 'bitcoinfundi.com',
		website: 'https://bitcoinfundi.com/',
		assets: [{
				code: 'USD',
				image: 'assets/bitcoinfundi.com/USD.png',
				issuer: 'GCYK67DDGBOANS6UODJ62QWGLEB2A7JQ3XUV25HCMLT7CI23PMMK3W6R',
			},
			{
				code: 'BTC',
				image: 'assets/bitcoinfundi.com/BTC.png',
				issuer: 'GCYK67DDGBOANS6UODJ62QWGLEB2A7JQ3XUV25HCMLT7CI23PMMK3W6R',
			}
		],
		logo: '',
	},
	'readycash.com.ng': {
		name: 'readycash.com.ng',
		website: 'https://readycash.com.ng/',
		assets: [{
			code: 'NGN',
			image: 'assets/readycash.com.ng/NGN.png',
			issuer: 'GA3TKVAAVRPSOO7YAKCTFA2Z22PJMFT2YWNJLNMTIVLVLEPLE2SZIRXU',
		}],
		logo: '',
	},

	specialData: {
		'Stellar Network': {
			name: 'Stellar Network',
			assets: {
				'XLM': {
					code: 'XLM',
					image: 'assets/XLM/XLM.png',
					issuer: null
				},
			},
			logo: '',
		},
		'unknown': {
			name: 'unknown',
			image: 'assets/unknown/unknown.png',
			logo: '',
		}
	},
	dataByIssuer: {},

	init: function() {
		//console.log('Init the gateways.');
		for(var name in this.data) {
			var gateway = this.data[name];
			for(var code in gateway.assets) {
				var asset = gateway.assets[code];
				this.dataByIssuer[asset.issuer] = gateway;
			}
		}
	},
	addAnchors: function(anchors) {
		for(var name in anchors) {
			if(!this.data[name]) {
				console.log('Add ' + name);
				this.data[name] = anchors[name];
				debugger;
				for(var code in anchors[name].assets) {
					var asset = anchors[name].assets[code];
					this.dataByIssuer[asset.issuer] = anchors[name];
				}
			} else {
				for(var code in anchors[name].assets) {
					var asset = anchors[name].assets[code];
					if(!this.data[name].assets[code]) {
						console.log('Update ' + name + ' - ' + code);
						this.data[name].assets[code] = asset;
						this.dataByIssuer[asset.issuer] = anchors[name];
					}
				}
			}
		}
	},
	getSourceByFederation: function(federation) {
		if(this.data.hasOwnProperty(federation)) {
			return this.data[federation];
		}
		return this.specialData.unknown;
	},
	getSourceById: function(accountId) {
		if(accountId === undefined || accountId === null || accountId === '') {
			return this.specialData['Stellar Network'];
		}

		// Will always return a source. If no source is found, it will return
		// the unknown source
		if(!this.dataByIssuer.hasOwnProperty(accountId)) {
			return this.specialData.unknown;
		}
		return this.dataByIssuer[accountId];
	},
	getAllSources: function() {
		return this.data;
	},
	changeTrust: function(code, issuer, flag) {
		var g = this.getSourceById(issuer);
		if(this.data[g.name].assets[code]) {
			this.data[g.name].assets[code].changing = flag;
		}
	}
};

gateways.init();